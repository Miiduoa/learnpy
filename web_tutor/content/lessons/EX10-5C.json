{
  "id": "EX10-5C",
  "title": "Local variable vs. Global variable (複雜情況)",
  "explanation": "\n## 同名變數的優先順序\n\n當全域變數和區域變數**同名**時，函數內預設使用區域變數。\n\n**為什麼會這樣？**\n這是 Python 的設計：區域變數會「遮蔽」（shadow）全域變數，優先使用區域變數。\n\n**生活中的類比：**\n- 全域變數 = 公共區域的公告\n- 區域變數 = 房間內的公告\n- 如果您在房間內，會先看到房間內的公告（區域變數）\n\n## 變數遮蔽（Variable Shadowing）\n\n**什麼是遮蔽？**\n區域變數「遮住」了全域變數，讓函數內看不到全域變數。\n\n**為什麼需要遮蔽？**\n讓函數可以獨立運作，不會被全域變數干擾。\n\n## 實際範例\n\n```\nx = 100  # 全域變數\n\ndef test():\n    x = 50  # 區域變數，遮蔽了全域變數\n    print(x)  # 印出 50（區域變數）\n\ntest()\nprint(x)  # 印出 100（全域變數不變）\n```\n\n**執行過程：**\n1. 定義全域變數 `x = 100`\n2. 定義函數 `test()`\n3. 呼叫函數：\n   - 建立區域變數 `x = 50`（遮蔽全域變數）\n   - 印出 `x`：50（使用區域變數）\n4. 函數結束，區域變數消失\n5. 印出 `x`：100（使用全域變數，未被修改）\n\n**重要：** 區域變數不會影響全域變數！它們是兩個不同的變數，只是名稱相同。\n\n## 如何存取被遮蔽的全域變數？\n\n**如果要在函數內存取全域變數（而不是區域變數），需要使用 `global`：**\n\n```\nx = 100  # 全域變數\n\ndef test():\n    global x  # 使用全域變數\n    x = 50    # 修改全域變數\n    print(x)  # 50\n\ntest()\nprint(x)  # 50（全域變數被修改了）\n```\n\n**記住：** \n- 同名時，區域變數優先\n- 區域變數不會影響全域變數\n- 要用 `global` 才能修改全域變數\n",
  "exercise": "有一個全域變數 `value = 200`。請定義一個函數 `modify()`，在函數內建立區域變數 `value = 300` 並印出。\n呼叫函數後，再印出全域變數 `value`。",
  "hint": "區域變數不會影響全域變數。",
  "validator": {
    "type": "stdout_equals",
    "expected_output": "300\n200\n"
  },
  "_order": 87
}